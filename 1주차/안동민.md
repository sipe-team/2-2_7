# 내가 이해한 가상화와 컨테이너 개념 - 그림으로 이해하는 가상화와 컨테이너를 읽고 (Part 1 가상화)

![9791140702152](https://github.com/sipe-team/2-2_feOops/assets/68339352/0d52354c-5026-4ecd-8484-bf4fed94eaf7)

## 가상화

실체가 없는 것을 마치 존재하는 것처럼 보이게 하는 기술

물리 서버(컴퓨터) 한 대에서 여러 컴퓨터 환경을 다룰 수 있게된다.

![KakaoTalk_Photo_2024-06-05-03-35-22 010](https://github.com/sipe-team/2-2_feOops/assets/68339352/1cc2a0cb-de29-4c00-b01f-0508c70b82ee)

반대로 가상화를 이용해서 실제로 물리 서버(컴퓨터)는 여러 대 이지만 하나의 가상 서버로 보이게 할 수 있다.

![KakaoTalk_Photo_2024-06-05-03-35-22 011](https://github.com/sipe-team/2-2_feOops/assets/68339352/93d4f5c0-62fd-4e97-879b-c4aa8ff2c166)

## 왜 가상화를 쓰는 걸까?

### 가상화의 장점

가용성 : 가상 서버는 소프트 웨어 데이터 이므로 백업이 쉽다. 가상 서버별로 백업할 수 있으므로 가상서버에 장애가 발생하더라도 이전 백업에서 환경을 복사해 쉽게 복원 할 수 있다. (가용성)

참고로 가상 서버에 설치된 OS 및 기타 소프트 웨어 가상 서버를 구성하는 가상 CPU, 메모리 디스크 공간은 하나의 파일로 패키지화 되어있다. (캡슐화)

유연성 : 메모리, 서버등의 스케일 업, 스케일 아웃이 유연하다 (유연성)

### 가상화의 단점

물리 서버가 움직이지 않으면 가상서버도 움직이지 않는다.

가상화를 도입하거나 유지하는데 드는 비용때문에 결국은 가상화하지 않는 편이 비용 대비 효과 면에 유리한 경우도 있다.

(예시 커피한잔 서비스 https://www.youtube.com/watch?v=KqhpthvUib0)

## 가상화의 종류

### 서버 가상화

- 서버의 가상화는 물리 서버를 가상화 하는 것이다.

![KakaoTalk_Photo_2024-06-05-03-35-22 007](https://github.com/sipe-team/2-2_feOops/assets/68339352/79d7a63c-ef63-461b-a13d-d8ccc658fa67)

1. 호스트OS 형
   물리 서버에 설치된 호스트 OS에서 가상서버르 가동, 게스트 OS가 존재
1. 하이퍼 바이저 형

   물리 서버에 호스트 OS가 불필요

1. 컨테이너형

   게스트 OS 불필요 ( Docker )

1. 클라우드 서버의 가상화

클라우드 는 가상화 기술로 구축된 인프라나 그 위에 구축된 서비스이다. 클라우드는 인터넷을 통해 접근할 수 있고, 사용자는 “인프라나 소프트웨어가 없이도” 인프라 서비스를 이용할 수 있다.

클라우드 서비스는 서비스 제공 형식에 따라 SaaS, PaaS, IaaS 로 구분된다.

SaaS : 소프트웨어로 제공되는 클라우드 서비스’ 이미 완성된 제품의 서비스를 이용 (지메일 SNS 등)

PaaS : ‘플래폼으로 제공되는 클라우드 서비스’ 애플리케이션을 구축할때 필요한 스토리지등을 제공하는 것 Google App Engine

IaaS : ‘인프라로 제공되는 클라우드 서비스’ AWS, GCP

“클라우드 서비스를 지탱하고 있는 건 분산처리”

분산처리 : 여러 기기에 처리를 분산하는 것 (부하를 줄이거난 작업을 빠르게 할 수 있다)

AWS 아마존에서 서비스하는 가상화 서비스 → EC2(하이퍼 바이저 가상화), S3V(스토리지 서비스)

GCP(Google Cloud Plafrom) → GCE

### 네트워크 가상화

- 네트워크 기기 및 네트워크 설비와 같은 물리적 네트워크 구성을 가상화한다.

VPN : 가상 사설망을 구축하는 기술 , 멀리 떨어진 거점 간의 데이터 통신이라도 가상 전용 선을 이용해 마치 동일한 LAN처럼 네트워크 환경을 구축가능

VLAN : 가상화 된 LAN을 구축 하나의 환경을 마치 복수의 LAN환경으로 보이게한다 회사에서 부서간 네트워크 분리가 가능

등등

## 컨테이너 기술

### 컨테이너 기술의 장점

컨테이너 기술은 가상 머신이나 게스트 OS가 필요없다. 따라서 컨테이너를 생성하자마자 애플리케이션을 배포해 가상 서버를 구축할 수 있다. (호스트 OS에 영향을 받지 않는다)

데이터를 컨테이너에 포함하지 않는다.

### 데브 옵스와 컨테이너 기술

### 데브옵스란?

개발자와 운영자가 협력해 서비스를 제공하는 방법

![KakaoTalk_Photo_2024-06-05-03-35-22 006](https://github.com/sipe-team/2-2_feOops/assets/68339352/3c36b270-0476-4b37-9f63-d60308da5a3c)

DEV

계획 → 코드 → 빌드 → 테스트

OPS

출하 → 배포 → 운영 → 감사

두 서클을 원할하게 돌리기 위해서 컨테이너 기술을 자주 사용한다.

왜?

개발 환경에서는 정상적으로 작동했지만 운영 환경에서는 오류가 발생해 동작하지 않는 경우

컨테이너의 높은 휴대성때문에 운영환경에서도 그대로 이용할 수 있다.

## 컨테이너와 서버리스

## 서버리스란?

서버가 존재하지 않는 환경

서버리스는 주로 클라우드에서 제공되는 서비스다. 사용자로 부터 요청이 있을 때만 가동되고 처리가 끝나면 종료한다. 개발자가 의식적으로 서버를 관리할 필요가 없다.

AWS Lambda

### 장점

- 필요한 만큼만 과금한다.
- 서버를 관리할 리소스가 줄어든다

### 단점

- 자유도와 휴대성이 낮다.
- 표준화가 되어있지 않다.
- 리소스 제한이 있고 장시간 처리에 적합하지 않다.

## 도커

### 도커란?

컨테이너를 실행하거나 컨테이너 이미지르 만들고 배포하는 플랫폼

### 도커의 장점

사실 앞에서 말한 컨테이너의 장점과 같다.

![KakaoTalk_Photo_2024-06-05-03-35-22 005](https://github.com/sipe-team/2-2_feOops/assets/68339352/40b07f8a-7ad6-4626-8996-06ed4de4b820)

### 도커엔진

컨테이너및 컨테이너 이미지를 관리하는 응용 프로그램

도커엔진은 도커 클라이언트에서 서버인 도커 데몬의 API에 접속해 다양한 작업을 한다.

![KakaoTalk_Photo_2024-06-05-03-35-22 004](https://github.com/sipe-team/2-2_feOops/assets/68339352/0db2cc06-a52a-4c7b-8da4-500edaabe689)

### 도커 컨테이너란?

컨테이너는 운영체제에서 실행되는 프로세스다.

컨테이너를 사용하면 외부 영향을 받지 않는 독립적인 환경에서 프로세스를 실행 할 수 있다.

컨테이너와 가상서버는 매우 비슷하지만 컨테이너는 다른 컨테이너나 프로세스와 운영체제 (커널)를 공유하는 반면 가상서버는 운영체제를 공유하지 않는다.

![KakaoTalk_Photo_2024-06-05-03-35-22 002](https://github.com/sipe-team/2-2_feOops/assets/68339352/5607532e-a667-4239-aee6-f37825ca9fd6)

네임 스페이스의 원리에 따라 컨테이너가 외부와 격리된다.

컨테이너는 운영체제를 공유하기 때문에 운영체제 버전이나 호환성에 따라 제대로 동작하지 않을 수 있다.
![KakaoTalk_Photo_2024-06-05-03-35-22 003](https://github.com/sipe-team/2-2_feOops/assets/68339352/6086dd49-de05-48cf-98b7-731ea29bc0bd)

## 컨테이너 이미지

컨테이너를 실행하기 위한 템플릿이다.

![KakaoTalk_Photo_2024-06-05-03-35-21 001](https://github.com/sipe-team/2-2_feOops/assets/68339352/d480070e-fe96-4b5e-85e9-87c1a5f410bf)

컨테이너 이미지의 대부분은 컨테이너를 실행하는데 필요한 파일 시스템

컨테이너 이미지로 컨테이너를 생성한다.

컨테이너 이미지의 배포

컨테이너 이미지는 컨테이너 레지스트리라고 하는 컨테이너 이미지 저장 장소를 통해 배포된다.

컨테이너는 프로세스이므로 그대로 배포할 수 없지만 컨테이너 이미지는 데이터 이므로 그대로 배포할 수 있다.
